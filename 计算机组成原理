计算机组成原理笔记

一、总线
	*为什么要用总线
		因为总线简单方便，扩展性更强
	*什么是总线
		总线是连接各个部件的信息传输线，是各个部件共享的传输介质
	*总线上的信息传输
		串行：将要传输的信息一位一位的传到总线上，接受方也一位一位的取数据，可以类比为单行道。
		并行：将多位数据同时放到总线上，可以类比位多行道，通常情况下，并行传输的距离通常比较短，因为比较长的话，信号在传输的过程中会产生变形。
	*单总线
		cpu，内存，i/o设备都通过一根单总线连在一起，互相进行信号传输。但是单总线存在问题，就是一次只能有两个设备通过总线进行信号传输，这样久严重影响了计算机的运行效率。
	*面向cpu的双总线
		-i/o总线：cup和i/o设备连接的总线
		M总线，cup和主存之间的专用总线
		（但这种结构仍然存在问题，当外设要和主存之间进行交互的时候，只能以cpu为媒介进行交互，这时候cpu就会停下手中的任务，这样依然会严重影响cpu的效率）
	*以存储器为中心的双总线结构
		CUP，外设，主存都连接在系统总线上。在cup和主存上专门连一条存储总线。但其实主存仍然不能同时向存储总线和系统总线发送数据。


二、总线的分类
	*片内总线：芯片内部的总线
	*系统总线：计算机各部件之间的信息传输线	
		系统总线根据总线上传输的信息的不同，又可以分为三类总线
			1、数据总线	一般来说数据总线是双向的，传输的数据一般大于机器字长或者存储字长
			2、地址总线	单向，一般来说与存储地址、i/o地址有关
			3、控制总线     双向，有出有入，CPU内部总线
	*通信总线：用于计算机之间或计算机与其他系统（控制仪表）之间的通信
		传输方式：串行通信总线、并行通信总线
三、总线性能及其性能指标
	*宽度：以bite为单位
	*工作频率：工作频率就是钟控频率，单位为MHz
	*带宽：带宽=宽度x工作频率，带宽即总线传输数据的速率，单位为Mbps
	*时钟同步：简称同步，和时钟同步工作的总线为同步总线，否则为异步总线
	*多路复用/引脚使用：即同一条总线上分时传输不同的信号，如同一条总线上传输数据信号和地址信号以提高总线的利用率，减少引脚的适用。
	*信号线数：即数据总线、地址总线、控制总线的总和
	*仲裁方式：(解决总线使用权问题（控制权）)
		-集中仲裁：
			将总线控制逻辑集中在总线仲裁器或者CPU内部，由这个硬件设备分配总线时间。在集中式仲裁中，每个功能模块有两条线连到中央仲裁器：；一条是送往仲裁器的总线青丘信号线BR，一条是信号线送出的总授权信号线BG。对于单处理器系统总线而言，中央控制器又称为总线控制器，它是CUP的一部分。按照目前的总线标准，中央仲裁器一般是一个单独的功能模块。
		-分布式仲裁:
			分布式仲裁方式不需要中央仲裁器，每个潜在的主方功能模块都有自己的仲裁号和仲裁器，当它们有总线请求时，把它们唯一的仲裁号发送到共享的仲裁线上，每个仲裁器将仲裁线上得到的仲裁号与自己的仲裁号比较，如果仲裁线上的号大，则它们的总线请求不予相应，并撤销它的仲裁号，最后，获胜者的总裁号保留在仲裁总线上。显然，分布式仲裁是以优先仲裁策略为基础的
	*负载能力/驱动能力:
		所谓总线的负载能力即驱动能力，是指当总线接上负载（接口设备）后不影响总线输入/输出的逻辑电平
	*宽度扩展
	*电源电压
四、总线结构
	总线结构的优点
		*组网费用低，这样的结构不需要另外互联设备，是直接通过一条总线进行连接，所以组网费用低
		*这种网络因为各个节点是共用总线带宽的，所以在传输速度上会随着接入网络用户的增加而降低。
		*网络用户扩展较灵活：需要扩展用户时只需要添加一个连接器即可，所能连接的用户数量有限
		*维护较容易
	总线结构的缺点：
		*所有数据都需要通过总线传输，若总线发生故障，整个网络就会瘫痪
		*一次只能一个端用户发送数据，其他用户必须等待到获得发送权
五、总线控制
	总线判优控制 
		*主设备（模块）	对总线有控制权
		*从设备（模块）	不能控制总线，也不能发起对总线占用的请求，只能相应从主设备发来的总线命令
		（计算机中有些设备既能作为主设备又能作为从设备，有些主线有多个主设备，有些主线只能有一个主设备）

	总线判优控制：集中式（链式查询、计数器定时查询、独立请求方式）、分布式
		链式查询方式：
